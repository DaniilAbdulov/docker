Docker — это платформа для автоматизации развертывания, масштабирования и управления приложениями в контейнерах. Контейнеры позволяют упаковать приложение и все его зависимости в единый образ, который можно запускать на любой системе, поддерживающей Docker, независимо от операционной системы и настроек окружения.

### Для чего нужен Docker?

1. **Изоляция окружения**: Контейнеры изолируют приложения и их зависимости от хост-системы и друг от друга, что снижает вероятность конфликтов между различными версиями библиотек и программ.

2. **Упрощение развертывания**: Docker позволяет быстро и легко развертывать приложения, так как все необходимые зависимости и конфигурации уже включены в контейнер.

3. **Портируемость**: Образы Docker могут работать на любой машине, где установлен Docker, что облегчает перенос приложений между различными средами (разработка, тестирование, продакшн).

4. **Масштабируемость**: Docker облегчает масштабирование приложений, так как можно быстро запускать и останавливать контейнеры по мере необходимости.

5. **Управление ресурсами**: Контейнеры позволяют эффективно использовать ресурсы системы, так как они легковеснее виртуальных машин.

### Основные команды Docker

1. **docker run** — запуск нового контейнера.
    ```bash
    docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
    ```

docker run -p 3000:3000 myapp:production

хотите перенаправить порт 3000 на хосте на порт 3000 в контейнере.
Аналогично для дев

Запуск с конфигурацией памяти и ядер
docker run --memory=512m --cpus=1 my-image

2. **docker ps** — отображение запущенных контейнеров.

    ```bash
    docker ps
    ```

3. **docker images** — отображение списка загруженных образов.

    ```bash
    docker images
    ```

4. **docker pull** — загрузка образа из Docker Hub.

    ```bash
    docker pull IMAGE_NAME
    ```

5. **docker build** — создание образа из Dockerfile.

    ```bash
    docker build -t IMAGE_NAME .
    ```

    docker build --build-arg NODE_ENV=production --build-arg PORT=3000 -t myapp:production .

6. **docker stop** — остановка работающего контейнера.

    ```bash
    docker stop CONTAINER_ID
    ```

7. **docker rm** — удаление остановленного контейнера.

    ```bash
    docker rm CONTAINER_ID
    ```

8. **docker rmi** — удаление образа.
    ```bash
    docker rmi IMAGE_ID
    ```

### Как развернуть своё приложение через Docker

1. **Создайте Dockerfile**: Это текстовый файл, который содержит инструкции для создания образа. Пример простого Dockerfile для приложения на Node.js:

    ```Dockerfile

    ```

# Используем образ Node.js версии 14 в качестве базового для нашего контейнера

FROM node:14

# Определяем аргументы, которые можно передать в момент сборки образа

ARG NODE_ENV=production # Устанавливаем переменную окружения NODE_ENV с значением по умолчанию 'production'
ARG PORT=3000 # Устанавливаем переменную окружения PORT с значением по умолчанию 3000

# Устанавливаем переменные окружения внутри контейнера

ENV NODE_ENV=${NODE_ENV}
ENV PORT=${PORT}

# Устанавливаем рабочую директорию внутри контейнера

WORKDIR /

# Копируем файл package.json в рабочую директорию контейнера

COPY package.json ./

# Устанавливаем зависимости из package.json

RUN npm i

# Копируем все остальные файлы и директории в контейнер

COPY . .

# Определяем команду, которая будет выполнена при запуске контейнера

CMD [ "node", "index.js" ]

    ```

2. **Постройте образ**: Используйте команду `docker build`, чтобы создать образ из Dockerfile.

    ```bash
    docker build -t my-app .
    ```

3. **Запустите контейнер**: Используйте команду `docker run`, чтобы запустить приложение.

    ```bash
    docker run -p 3000:3000 my-app
    ```

4. **Проверьте работу приложения**: Откройте браузер и перейдите по адресу `http://localhost:3000`, чтобы увидеть ваше приложение в действии.

Это базовые шаги для развертывания приложения с использованием Docker. Существуют также более сложные сценарии, такие как использование Docker Compose для управления многоконтейнерными приложениями.

```

```
